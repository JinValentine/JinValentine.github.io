---
layout: single
title: "[CS] 프로세스의 메모리 영역"
categories: CS
tag: [cs, memory]
published: true
---

# 프로세스 메모리 영역에서의 네 가지 영역

메모리는 **커널 영역**과 **사용자 영역**으로 나누어져 있다.
프로세스가 생성되면 커널영역에는 프로세스와 관련된 정보를 저장하는 자료구조인 프로세스 제어 블록(PCB)가 생성되고 사용자 영역에는 크게 코드영역, 데이터 영역, 힙 영역, 스택 영역으로 나뉘어 저장된다. 여기서 사용자 영역의 네 가지 영역은 프로그래밍을 학습할 때 자주 접하게 되는 영역으로 깊게 공부해볼 필요가 있다.

## 정적 할당 영역

- 코드와 데이터 영역은 크기가 고정된 영역으로 **정적 할당 영역**으로 불린다.

### 코드 영역

- 기계어로 이루어진 명령어가 저장되는 곳
- 데이터가 아닌 CPU가 실행할 명령어가 담겨 있기 때문에 쓰기가 금지된다.
- CPU는 코드 영역에 저장된 명령어를 하나씩 가져가서 처리한다.
- **읽기 전용(read-only)공간**

### 데이터 영역

- 프로그램이 실행되는 동안 유지할 데이터가 저장되는 공간
- 프로그램의 시작과 함께 할당되며, 종료되면 소멸한다.
- **전역 변수, 정적(static) 변수**가 대표적으로 저장된다.

## 동적 할당 영역

- 힙과 스택영역은 프로세스 실행 과정에서 크기가 변할 수 있는 영역으로 **동적 할당 영역**으로 불린다.
- 힙 영역은 메모리의 낮은 주소에서 높은 주소로 할당되고, 스택 영역은 높은 주소에서 낮은 주소로 할당된다. (새롭게 할당 되는 주소가 겹칠 일을 방지하기 위해)

### 힙 영역

- 프로그래머가 직접 할당할 수 있는 저장 공간
- 힙 영역에 메모리 공간을 할당했다면 언젠가는 해당 공간을 반환해야 한다.
- 메모리 공간을 반환하지 않으면 할당한 공간은 메모리 내에 계속 남아 메모리 낭비를 초래하는 **메모리 누수**(memory leak)가 발생한다.

### 스택 영역

- 데이터를 일시적으로 저장하는 공간
- 데이터 영역과 달리 잠깐 쓰다가 말 값들이 저장되는 공간이다.
- 함수의 호출과 함께 할당되며, 함수의 호출이 완료되면 소멸한다.
- 함수의 실행이 끝나면 사라지는 **매개 변수, 지역 변수**가 대표적으로 저장된다.

---

### 참조

[메모리의 구조](http://www.tcpschool.com/c/c_memory_structure)  
[혼자 공부하는 컴퓨터구조+운영체제](http://www.yes24.com/Product/Goods/111378840)

**잘못된 정보 또는 오타가 기재되어있을 경우 피드백해주시면 감사하겠습니다!**
